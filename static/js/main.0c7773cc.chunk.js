(this["webpackJsonpshopping-cart_"]=this["webpackJsonpshopping-cart_"]||[]).push([[0],{16:function(t,e,i){},17:function(t,e,i){"use strict";i.r(e);var s=i(0),c=i(1),n=i.n(c),o=i(9),a=i.n(o),l=(i(15),i(16),i(7),i(3)),r=i(4),d=i(2),p=i(6),h=i(5),u=function(t){Object(p.a)(i,t);var e=Object(h.a)(i);function i(t){var s;return Object(l.a)(this,i),(s=e.call(this,t)).state={typediscount:"fiction"===s.props.type?.15*s.props.price:0},s.onremove=s.onremove.bind(Object(d.a)(s)),s.click=s.click.bind(Object(d.a)(s)),s}return Object(r.a)(i,[{key:"onremove",value:function(){console.log(this.props.id),this.props.onRemoveProduct(this.props.id),this.props.handleTotal(-this.props.price*this.props.qty,-this.props.discount/100*this.props.price*this.props.qty,-this.state.typediscount*this.props.qty)}},{key:"click",value:function(){console.log(this.props.id)}},{key:"render",value:function(){return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{onClick:this.click,className:"d-inline-flex flex-row",children:[Object(s.jsxs)("td",{className:"shadow-sm p-2 m-2 bg-white name",children:[Object(s.jsx)("img",{src:this.props.img_url,style:{width:"20px",height:"20px"}}),Object(s.jsx)("span",{className:"p-2",children:this.props.name}),Object(s.jsx)("span",{className:"float-right cross",onClick:this.onremove,children:" X"})]}),Object(s.jsxs)("td",{className:"d-inline-flex p-2",children:[Object(s.jsx)("i",{className:"bi bi-dash p-2 minus",onClick:this.props.subtract.bind(this,this.props.index),disabled:this.state.qty<1,children:Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-dash",viewBox:"0 0 16 16",children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})})}),Object(s.jsx)("span",{className:"shadow-sm p-2 bg-white",children:this.props.qty}),Object(s.jsx)("span",{className:"p-2 plus",onClick:this.props.add.bind(this,this.props.index),children:"+"})]}),Object(s.jsxs)("td",{className:"p-2 m-2",children:["$",this.props.price]})]},this.props.id)})}}]),i}(n.a.Component),j=function(t){Object(p.a)(i,t);var e=Object(h.a)(i);function i(t){return Object(l.a)(this,i),e.call(this,t)}return Object(r.a)(i,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"container card shadow-sm",style:{width:"300px"},children:[Object(s.jsxs)("h3",{className:"row",style:{fontWeight:400,fontSize:"14px"},children:[Object(s.jsxs)("span",{className:"col-6",children:["items (",this.props.count,")"]}),Object(s.jsxs)("span",{className:"col-6 text-right float-right",children:[": $",this.props.actual.toFixed(2)]})]}),Object(s.jsxs)("h3",{className:"row",style:{fontWeight:400,fontSize:"14px"},children:[Object(s.jsx)("span",{className:"col-6",children:"Discount"}),Object(s.jsxs)("span",{className:"col-6 text-right float-right",children:[": -$",this.props.discount.toFixed(2)]})]}),Object(s.jsxs)("h3",{className:"row",style:{fontWeight:400,fontSize:"14px"},children:[Object(s.jsx)("span",{className:"col-6",children:"Type discount"}),Object(s.jsxs)("span",{className:"col-6 text-right float-right",children:[": -$",this.props.typediscount.toFixed(2)]})]}),Object(s.jsxs)("h3",{className:"row card-body",style:{borderTop:"1px solid #ddd",backgroundColor:"#F6F6F6",fontSize:"14px"},children:[Object(s.jsx)("span",{className:"col-6",children:"Order Total"}),Object(s.jsxs)("span",{className:"col-6 text-right float-right",children:[": $",this.props.total.toFixed(2)]})]})]})}}]),i}(n.a.Component),m=[{id:9090,name:"Item1",price:200,discount:10,type:"fiction",img_url:"https://place-hold.it/40.jpg"},{id:9091,name:"Item2",price:250,discount:15,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9092,name:"Item3",price:320,discount:5,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9093,name:"Item4",price:290,discount:0,type:"thriller",img_url:"https://place-hold.it/40.jpg"},{id:9094,name:"Item5",price:500,discount:25,type:"thriller",img_url:"https://place-hold.it/40.jpg"},{id:9095,name:"Item6",price:150,discount:5,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9096,name:"Item7",price:700,discount:22,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9097,name:"Item8",price:350,discount:18,type:"fiction",img_url:"https://place-hold.it/40.jpg"}],b=function(t){Object(p.a)(i,t);var e=Object(h.a)(i);function i(t){var s;return Object(l.a)(this,i),(s=e.call(this,t)).onReload=function(){s.componentDidMount(),console.log(s.state.productList)},s.state={total:0,actual:0,discount:0,typediscount:0,productList:[{id:9090,name:"Item1",price:200,discount:10,type:"fiction",img_url:"https://place-hold.it/40.jpg"},{id:9091,name:"Item2",price:250,discount:15,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9092,name:"Item3",price:320,discount:5,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9093,name:"Item4",price:290,discount:0,type:"thriller",img_url:"https://place-hold.it/40.jpg"},{id:9094,name:"Item5",price:500,discount:25,type:"thriller",img_url:"https://place-hold.it/40.jpg"},{id:9095,name:"Item6",price:150,discount:5,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9096,name:"Item7",price:700,discount:22,type:"literature",img_url:"https://place-hold.it/40.jpg"},{id:9097,name:"Item8",price:350,discount:18,type:"fiction",img_url:"https://place-hold.it/40.jpg"}]},s.calculateTotal=s.calculateTotal.bind(Object(d.a)(s)),s.onRemoveProduct=s.onRemoveProduct.bind(Object(d.a)(s)),s.add=s.add.bind(Object(d.a)(s)),s.subtract=s.subtract.bind(Object(d.a)(s)),s.onReload=s.onReload.bind(Object(d.a)(s)),s.componentDidMount=s.componentDidMount.bind(Object(d.a)(s)),s}return Object(r.a)(i,[{key:"componentDidMount",value:function(){for(var t=m,e=0,i=0,s=0,c=0;c<t.length;c++)t[c].qty=1,m[c].qty=1,e+=t[c].price,m[c].typediscount="fiction"===m[c].type?.15*m[c].price:0,t[c].typediscount="fiction"===t[c].type?.15*t[c].price:0,i+=t[c].discount/100*t[c].price,s+=t[c].typediscount;console.log("initial total = "+e+"initial discount = "+i),this.setState({productList:t,actual:e,total:e-i-s,discount:i,typediscount:s})}},{key:"add",value:function(t){var e=this.state.productList;console.log(e[t].discount),e[t].qty++,console.log(e[t].price),this.setState({productList:e}),this.calculateTotal(e[t].price,e[t].discount/100*e[t].price,e[t].typediscount)}},{key:"subtract",value:function(t){if(this.state.productList[t].qty>0){var e=this.state.productList;e[t].qty--,this.setState({productList:e}),this.calculateTotal(-e[t].price,-e[t].discount/100*e[t].price,-e[t].typediscount)}}},{key:"onRemoveProduct",value:function(t){console.log(t),this.setState((function(e){return{productList:e.productList.filter((function(e){return e.id!==t}))}})),console.log(this.state.productList.length)}},{key:"calculateTotal",value:function(t,e,i){var s=this.state.total+t-e-i,c=this.state.actual+t;console.log("total= "+s),this.setState({total:s,actual:c,discount:this.state.discount+e,typediscount:this.state.typediscount+i})}},{key:"render",value:function(){var t=this;if(0===this.state.productList.length)return Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:"btn btn-primary container",onClick:this.onReload.bind(this),style:{width:"100px"},children:"Reload"})});var e=this.state.productList.map((function(e,i){return Object(s.jsx)("div",{className:"container",children:Object(s.jsx)(u,{name:e.name,img_url:e.img_url,id:e.id,price:e.price,type:e.type,qty:e.qty,add:t.add,index:i,subtract:t.subtract,discount:e.discount,onRemoveProduct:t.onRemoveProduct,handleTotal:t.calculateTotal},e.id)})}));return Object(s.jsx)(n.a.Fragment,{children:Object(s.jsxs)("div",{className:"d-inline-flex flex-row",children:[Object(s.jsx)("div",{className:"p-2",children:Object(s.jsxs)("table",{className:"table borderless",children:[Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsxs)("th",{className:"item",children:["Items(",this.state.productList.length,")"]}),Object(s.jsx)("th",{className:"qty",children:"Qty"}),Object(s.jsx)("th",{children:"Price"})]})})}),Object(s.jsx)("div",{className:"p-2",children:Object(s.jsx)("tbody",{children:Object(s.jsx)("tr",{children:e})})})]})}),Object(s.jsx)("div",{className:"p-2 m-2",children:Object(s.jsx)(j,{total:this.state.total,count:this.state.productList.length,actual:this.state.actual,discount:this.state.discount,typediscount:this.state.typediscount})})]})})}}]),i}(n.a.Component);var g=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(b,{})})},x=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,18)).then((function(e){var i=e.getCLS,s=e.getFID,c=e.getFCP,n=e.getLCP,o=e.getTTFB;i(t),s(t),c(t),n(t),o(t)}))};a.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root")),x()},7:function(t,e,i){}},[[17,1,2]]]);
//# sourceMappingURL=main.0c7773cc.chunk.js.map